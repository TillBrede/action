name: Run Tests
description: 'Runs phpunit test uisng the stubs submodule' 
inputs:
  phpunit-version: 
    description: 'The version of phpunit which us used'
    required: false
    default: ''


runs:
  using: "composite"
  steps:
       - run: |
          if [ -z {{inputs.phpunit-versio}}" ];
          then wget https://phar.phpunit.de/phpunit-${{ inputs.phpunit-version }}.phar
          else wget https://phar.phpunit.de/phpunit.phar
         shell: bash
       - run: |
         if [ -z {{inputs.phpunit-versio}}" ];
         then phpdbg -qrr phpunit.phar tests --configuration tests/phpunit.xml
         else phpdbg -qrr phpunit-${{ inputs.phpunit-version }}.phar tests --configuration tests/phpunit.xml
        shell: bash
